<%@string header="includes/header.md.rsp"%>
<%@string footer="includes/footer.md.rsp"%> 
<%@string references="../includes/references.md.rsp"%>
<%@string appendix="${appendix}" default="true"%>

<%--------------------------------------------------------------
 RSP specific
 --------------------------------------------------------------%>
<%
R.utils::use("R.utils, R.devices, knitr, ggplot2")
options("devEval/args/field"="pathname")
options("withCapture/newline"=FALSE)
options(deparse.cutoff=110)
kable <- function(...) knitr::kable(..., format="markdown")
%>

<%--------------------------------------------------------------
 Report/package specific
 --------------------------------------------------------------%>
<%
use("matrixStats")
use("microbenchmark")
%>

<% benchmarkResults <- function(stats, fcnname=levels(stats$expr)[1L], tags=NULL, ...) { %>

<% kable(summary(stats)) %>
_Figure: Benchmarking of <%=hpaste(sprintf("%s()", levels(stats$expr)), lastCollapse=" and ")%> on <%=dataLabel%> data.  Times are in milliseconds._

![](<%=toPNG(fcnname, tags=c(dataLabel, "benchmark"), aspectRatio=2/3, {
  gg <- qplot(y=time, data=stats, colour=expr)
  gg <- gg + scale_y_log10()
  print(gg)
})%>)

<% } # benchmarkResults() %>


<%--------------------------------------------------------------
 Macros
 --------------------------------------------------------------%>
